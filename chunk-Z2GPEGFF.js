import{a as f,b as W,f as X}from"./chunk-QEAOT436.js";import{C as H,Fa as h,Ga as u,Ha as D,J as E,Ja as b,Ka as w,L as O,La as v,Ma as x,Na as o,O as _,Oa as r,Pa as c,Ra as S,Sa as y,T as U,Ta as m,U as R,Ua as B,Va as j,W as C,Wa as P,Xa as z,Ya as G,fa as F,ga as N,j as L,n as M,qb as q,ra as I,sa as A,ua as l,va as T,x as $}from"./chunk-K77M6CC3.js";function Z(e,d){if(e&1&&(o(0,"div",14),m(1),r()),e&2){let t=d.$implicit;l(),j(" ",t," ")}}function ee(e,d){if(e&1&&(o(0,"div",3),v(1,Z,2,1,"div",14,w),r()),e&2){let t=y();l(),x(t.blog.tag_list)}}var V=(()=>{class e{navigateToBlogLink(t){window.open(t,"_blank")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=C({type:e,selectors:[["blog-card"]],inputs:{blog:"blog"},standalone:!0,features:[P],decls:19,vars:11,consts:[[1,"cursor-pointer","w-full","h-[500px]","relative","shadow-lg","bg-white","p-6","flex","flex-col","transition-transform","duration-300","hover:-translate-y-2",3,"click"],["alt","image",1,"max-h-[240px]","w-full","mb-8","object-cover",3,"src"],[1,"flex","flex-col","gap-3","flex-grow"],[1,"flex","flex-wrap","gap-2"],[1,"flex","items-start","justify-between","gap-4"],[1,"text-ebonyClay","text-2xl","font-medium","line-clamp-2","flex-grow"],["src","assets/images/icons/arrow-right.svg","alt","arrow-right",1,"flex-shrink-0","mt-1"],[1,"text-mistBlue","leading-6","line-clamp-3"],[1,"absolute","bottom-6","left-6","flex","items-center","justify-center","gap-3","w-fit"],[1,"w-10","h-10","rounded-full","bg-lavenderMist","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"flex","flex-col","gap-1"],[1,"text-ebonyClay","text-sm","font-medium"],[1,"text-mistBlue","text-sm"],[1,"text-primary","text-sm","font-medium"]],template:function(i,n){i&1&&(o(0,"div",0),S("click",function(){return n.navigateToBlogLink(n.blog.url)}),c(1,"img",1),o(2,"div",2),h(3,ee,3,0,"div",3),o(4,"div",4)(5,"h3",5),m(6),r(),c(7,"img",6),r(),o(8,"div",7),m(9),r()(),o(10,"div",8)(11,"div",9),c(12,"img",10),r(),o(13,"div",11)(14,"h4",12),m(15),r(),o(16,"div",13),m(17),z(18,"date"),r()()()()),i&2&&(l(),u("src",n.blog.cover_image?n.blog.cover_image:"assets/images/general/placeholder.jpeg",I),l(2),b(3,n.blog.tag_list.length>0?3:-1),l(3),B(n.blog.title),l(3),B(n.blog.description),l(3),u("src",n.blog.user.profile_image,I)("alt",n.blog.user.name),l(3),B(n.blog.user.name),l(2),j(" ",G(18,8,n.blog.created_at,"MMM d, yyyy")," "))},dependencies:[q]})}}return e})();var Y=(()=>{class e{static{this.baseUrl="api/articles"}static get BaseUrl(){return this.baseUrl}}return e})();var J={baseUrl:"https://dev.to/",production:!1};var K=(()=>{class e{constructor(){this.http=R(W),this.baseUrl=J.baseUrl}post(t,i,n,s,a){let p=`${this.baseUrl}${i}`,g={headers:s,observe:"body",params:new f({fromObject:n}),reportProgress:!1,responseType:a||"json",withCredentials:!1};return this.http.post(p,t,g)}get(t,i,n,s){let a=`${this.baseUrl}${t}`,p={headers:n,observe:s?"response":"body",params:new f({fromObject:i}),responseType:s||"json",withCredentials:!1};return this.http.get(a,p)}put(t,i,n,s,a){let p=`${this.baseUrl}${i}`,g={headers:s,observe:"body",params:new f({fromObject:n}),reportProgress:!1,responseType:a||"json",withCredentials:!1};return this.http.put(p,t,g)}patch(t,i,n,s,a){let p=`${this.baseUrl}${i}`,g={headers:s,observe:"body",params:new f({fromObject:n}),reportProgress:!1,responseType:a||"json",withCredentials:!1};return this.http.patch(p,t,g)}delete(t,i,n,s,a){let p=`${this.baseUrl}${i}`,g={headers:s,observe:"body",params:new f({fromObject:n}),reportProgress:!1,responseType:a||"json",withCredentials:!1,body:t};return this.http.delete(p,g)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Q=(()=>{class e{constructor(t){this.coreRequest=t}getBlogs(t,i){let n={page:t??1,per_page:i??12};return this.coreRequest.get(Y.BaseUrl,n)}static{this.\u0275fac=function(i){return new(i||e)(U(K))}}static{this.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ne=(e,d)=>d.id;function oe(e,d){e&1&&(o(0,"div",13),c(1,"div",14),r())}function re(e,d){if(e&1&&v(0,oe,2,0,"div",13,w),e&2){let t=y();x(t.skeletonCount)}}function se(e,d){if(e&1&&(o(0,"div",13),c(1,"blog-card",16),r()),e&2){let t=d.$implicit;l(),u("blog",t)}}function le(e,d){e&1&&(o(0,"div",15)(1,"div",17),c(2,"img",18),o(3,"div",19),m(4,"No blogs found"),r()()())}function ae(e,d){if(e&1&&v(0,se,2,1,"div",13,ne,!1,le,5,0,"div",15),e&2){let t=y();x(t.blogPosts)}}function de(e,d){e&1&&(o(0,"div",12),c(1,"div",20),r())}var Ce=(()=>{class e{constructor(t,i){this.notificationService=t,this.blogsService=i,this.blogPosts=[],this.currentPage=1,this.postsPerPage=12,this.destroy$=new L,this.scrollEvent$=new L,this.SCROLL_THRESHOLD_PX=100,this.SCROLL_THROTTLE_MS=500,this.INITIAL_PAGE=1,this.isLoadingInitial=!1,this.isLoadingMore=!1,this.hasNoContent=!1,this.errorMessage=null,this.skeletonCount=Array.from({length:12},(n,s)=>s+1),this.initializeScrollHandler()}ngOnInit(){this.loadBlogPosts()}onWindowScroll(){this.scrollEvent$.next()}initializeScrollHandler(){this.scrollEvent$.pipe(O(this.SCROLL_THROTTLE_MS),E(this.destroy$)).subscribe(()=>{this.checkAndLoadMorePosts()})}checkAndLoadMorePosts(){if(this.isLoadingMore||this.hasNoContent)return;let t=window.scrollY+window.innerHeight,i=document.documentElement.scrollHeight;t>i-this.SCROLL_THRESHOLD_PX&&this.loadBlogPosts()}loadBlogPosts(){this.isLoadingMore||(this.isLoadingMore=!0,this.isLoadingInitial=this.currentPage===this.INITIAL_PAGE,this.errorMessage=null,this.blogsService.getBlogs(this.currentPage,this.postsPerPage).pipe(E(this.destroy$),$(t=>(this.errorMessage=t?.message||"Failed to load blog posts",M([]))),H(()=>{this.isLoadingInitial=!1,this.isLoadingMore=!1})).subscribe(t=>{t.length===0?this.hasNoContent=this.blogPosts.length===0:(this.blogPosts=[...this.blogPosts,...t],this.currentPage++)}))}resetBlogList(){this.blogPosts=[],this.currentPage=this.INITIAL_PAGE,this.hasNoContent=!1,this.errorMessage=null,this.loadBlogPosts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(i){return new(i||e)(T(X),T(Q))}}static{this.\u0275cmp=C({type:e,selectors:[["app-blogs"]],hostBindings:function(i,n){i&1&&S("scroll",function(){return n.onWindowScroll()},!1,A)},standalone:!0,features:[P],decls:19,vars:4,consts:[[1,"min-h-96","p-6","bg-romance","flex","flex-col","items-center","justify-center"],[1,"py-1","px-3","rounded-full","bg-primary","bg-opacity-10-pct","text-primary","text-sm"],[1,"text-center","text-secondary","text-3xl","md:text-4xl","font-medium","mt-4","mb-6"],[1,"text-primary","text-center","text-lg","mb-9"],[1,"relative","w-full","h-12","md:w-1/3"],["type","text","placeholder","Search",1,"w-full","h-12","p-2","pl-10","rounded-lg","border","border-santaGray","transition-all","duration-300","hover:border-primary","focus:outline-none","focus:ring-2","focus:ring-primary"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"relative","w-full"],[1,"min-h-96","absolute","inset-0","bg-[url('/assets/images/patterns/background-pattern.png')]","bg-no-repeat","bg-cover","opacity-10","pb-16"],[1,"container"],[1,"grid","grid-cols-12","md:gap-8"],[1,"col-span-12","flex","justify-center","py-6"],[1,"col-span-12","md:col-span-6","lg:col-span-4","mb-8","md:mb-0"],[1,"w-full","h-[500px]","bg-slate-700","rounded-lg","animate-pulse"],[1,"col-span-12"],[3,"blog"],[1,"flex","flex-col","items-center","justify-center","h-full"],["src","assets/images/general/undraw_taken_mshk.svg","alt","empty-data",1,"max-h-[500px]"],[1,"mt-6","text-primary","text-2xl","font-medium"],[1,"w-8","h-8","border-4","border-primary","border-t-transparent","rounded-full","animate-spin"]],template:function(i,n){i&1&&(o(0,"section")(1,"header",0)(2,"div",1),m(3,"Our blog"),r(),o(4,"h1",2),m(5,"Resources and insights"),r(),o(6,"p",3),m(7," The latest industry news, interviews, technologies, and resources. "),r(),o(8,"div",4),c(9,"input",5),F(),o(10,"svg",6),c(11,"path",7),r()()(),N(),o(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11),h(16,re,2,0)(17,ae,3,1),r(),h(18,de,2,0,"div",12),r()()()()),i&2&&(l(13),D("empty-blog",n.hasNoContent),l(3),b(16,n.isLoadingInitial?16:n.isLoadingInitial?-1:17),l(2),b(18,n.isLoadingMore?18:-1))},dependencies:[V],styles:[".empty-blog[_ngcontent-%COMP%]{background-image:none;background-color:#f9f5ff;height:fit-content}"]})}}return e})();export{Ce as BlogsComponent};
